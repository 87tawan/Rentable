"use strict";(self["webpackChunkTasks"]=self["webpackChunkTasks"]||[]).push([[106],{106:function(e,t,r){r.r(t),r.d(t,{default:function(){return U}});var n=r(252);function o(e,t,r,o,a,s){const i=(0,n.up)("Signin");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(i)])}var a=r(963),s=r(577),i=r(211);const c=e=>((0,n.dD)("data-v-9440f794"),e=e(),(0,n.Cn)(),e),l={class:"box-login"},d=c((()=>(0,n._)("div",{class:"logo-and-img"},[(0,n._)("p",{class:"logo"},"Rentable"),(0,n._)("img",{src:i})],-1))),u={key:0,class:"error"},p={key:1,class:"sucess"};function g(e,t,r,o,i,c){const g=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",l,[d,(0,n.wy)((0,n._)("input",{type:"text",placeholder:"E-mail","onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t)},null,512),[[a.nr,e.email]]),(0,n.wy)((0,n._)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t)},null,512),[[a.nr,e.password]]),e.error?((0,n.wg)(),(0,n.iD)("p",u,(0,s.zw)(e.error),1)):(0,n.kq)("",!0),e.sucess?((0,n.wg)(),(0,n.iD)("p",p,(0,s.zw)(e.sucess),1)):(0,n.kq)("",!0),(0,n._)("button",{onClick:t[2]||(t[2]=t=>e.login())},"Enter"),(0,n.Wm)(g,{to:"/Register"},{default:(0,n.w5)((()=>[(0,n.Uk)("Register new account")])),_:1})])])}var h=r(154);function w(e){this.message=e}w.prototype=new Error,w.prototype.name="InvalidCharacterError";var m="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new w("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,a=0,s="";n=t.charAt(a++);~n&&(r=o%4?64*r+n:n,o++%4)?s+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};function f(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(m(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return m(t)}}function v(e){this.message=e}function k(e,t){if("string"!=typeof e)throw new v("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(f(e.split(".")[r]))}catch(e){throw new v("Invalid token specified: "+e.message)}}v.prototype=new Error,v.prototype.name="InvalidTokenError";var y=k,b=(r(413),{data(){return{email:"",password:"",error:!1,sucess:"",baseUrl:"https://production-api-rentable.onrender.com/users/login"}},mounted(){document.addEventListener("keyup",this.verifyEnter)},methods:{async verifyEnter(){"Enter"!==event.key&&13!==event.keyCode||this.login()},async login(){this.error="",await h.Z.post(`${this.baseUrl}`,{email:this.email,password:this.password}).then((e=>{console.log(e.data.token);const t=y(e.data.token);localStorage.setItem("id",t._id),localStorage.setItem("photoUser",t.photo),localStorage.setItem("contact",t.contact),this.sucess="You are on âœ”",setTimeout((()=>{this.$router.push("/")}),3e3),localStorage.setItem("token",e.data.token)})).catch((e=>{Array.isArray(e.response.data.message)?this.error=e.response.data.message[0]:this.error=e.response.data.message}))}}}),C=r(744);const I=(0,C.Z)(b,[["render",g],["__scopeId","data-v-9440f794"]]);var _=I,E={components:{Signin:_}};const S=(0,C.Z)(E,[["render",o]]);var U=S}}]);
//# sourceMappingURL=106.ec9669a8.js.map